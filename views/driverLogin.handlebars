<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <link href="css/style.css" rel="stylesheet">
    <style>
        #loginform input:invalid {
            border-color: red;
        }
    </style>
</head>

<body background="/static/images/login.jpg"style="background-size:cover;">

    {{!-- <img src="/static/images/driver.jpg" style="float:right" alt="" height:50px; width:50px;>> --}}
    <!-- <nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #2f087d;">
        <a class="navbar-brand" href="index.html"><h2 style="color:white;">back to home</h2></a>
	</nav>  -->
    <a href="./index" style="color: rgb(13, 38, 118);">Back to Home</a>
    <div class="container-fluid" style="min-height: 60vh;">
        <div class="row">
            <!-- <div class="col-sm-3 bg-primary"></div> -->
            <div class="col-sm-6 offset-sm-3">
                <h1 class="text-center" style="color: black; margin-top: 50px;">Login</h1>
                <form  name="loginform" id="loginform"  method="POST">
                    <div>
                        <label style="color: rgb(15, 15, 110);">Email</label>
                        <input type="email" name="email" class="form-control" placeholder="me@example.com" minlength="5"
                            maxlength="50" required>
                    </div>
                    <!-- <div class="error-message" id="error"></div> -->
                    <div>
                        <label style="color:rgb(15, 15, 110)">Password</label>
                        <input type="password" name="password" class="form-control" 
                            required>
                            {{!-- minlength="8" maxlength="25" --}}
                    </div>
                    <div>
                        <label style="color:rgb(15, 15, 110)">Confirm Password</label>
                        <input type="password" name="cpassword" class="form-control" 
                            required>
                            {{!-- minlength="8" maxlength="25" --}}
                    </div>
                    <div class="d-grid mt-4">
                        <button type="submit" class="btn btn-primary shadow" "
                            id="btn-login">Login</button>
                            {{#if message}}
                                    <p class="text-danger">{{message}}</p>
                            {{/if}}
                    </div>
                     
                </form>
            </div>
        </div>
    </div>



    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" crossorigin="anonymous">
    </script>

    <script>
        var email = document.forms['loginform']['email'];
        var password = document.forms['loginform']['password'];
        var cpassword = document.forms['loginform']['cpassword'];
        var btn = document.getElementById('btn-login');

        function validate(e) {
            e.preventDefault();
        }


        //     function validate(e){

        //     var email = document.forms[0]['email'];
        //     var password = document.forms[0]['password'];
        //     var error = document.getElementById('error-messages');
        //     if(!email.validity.valid){
        //      error.innerHTML = 'Please enter a valid email';
        //     return false;
        //    }
        //     if(!password.validity.valid){
        //     error.innerHTML = 'Please enter a valid password';
        //     return false;
        //    }
        //   e.preventDefault();
        //     }

        //  function errorMessage() {
        //  var error = document.getElementById("error")
        //  error.innerHTML = "Please enter a valid email"
        //  }


        //         
        //    
        // }

        document.querySelectorAll('#loginform input').forEach(e => {
            e.addEventListener('keyup', function (event) {
                var isValid = true;
                if (!email.validity.valid || !password.validity.valid) {
                    isValid = false;
                    errorMessage()
                    error.innerHTML = "password invalid"
                    // console.log('invalid email id')

                }

                if (password.value != cpassword.value) {
                    isValid = false;
                    // console.log('invalid password')
                }

                if (!isValid) {
                    btn.setAttribute('disabled', true)
                }
                else {
                    btn.removeAttribute('disabled');
                    //alert("Login successfully");
                    //window.location = "./booking";
                }
            })
        });

    </script>
</body>

</html>